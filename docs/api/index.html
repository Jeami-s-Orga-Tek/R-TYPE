<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>R-TYPE: R‚ÄëTYPE ‚Äî Online Shoot‚Äôem Up + Game Engine (C++17)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">R-TYPE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">R‚ÄëTYPE ‚Äî Online Shoot‚Äôem Up + Game <a class="el" href="namespaceEngine.html">Engine</a> (C++17) </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p><em>Multiplayer R‚ÄëType‚Äëlike with an in‚Äëhouse engine (ECS), an authoritative UDP server, and a graphical SFML client.</em></p>
<blockquote class="doxtable">
<p>&zwj;<b>Binaries:</b> <code>r-type_server</code> &amp; <code>r-type_client</code> ‚Ä¢ <b>Build:</b> CMake (+ Ninja) ‚Ä¢ <b>Client:</b> SFML 2.6.x ‚Ä¢ <b>Server:</b> Boost.Asio (via CPM.cmake) </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md1"></a>
</h1>
<h1><a class="anchor" id="autotoc_md2"></a>
‚ú® Overview</h1>
<ul>
<li><b>Client:</b> SFML rendering, screens <b><a class="el" href="classLaunch.html">Launch</a> ‚Üí <a class="el" href="classMenu.html">Menu</a> ‚Üí <a class="el" href="classLobby.html">Lobby</a> ‚Üí Settings</b>, particles/starfield, control remapping, embedded sounds &amp; fonts.</li>
<li><b>Server:</b> <b>UDP</b> networking I/O with <b>Boost.Asio</b>, client sessions, <b>binary handshake</b> (Hello/Welcome), <b>heartbeat/ping</b>.</li>
<li><b><a class="el" href="namespaceEngine.html">Engine</a> (libengine):</b> <b>ECS</b> core (Entity/Component/System + Mediator, Event bus), components <code>Transform</code>, <code>Sprite</code>, <code>RigidBody</code>, <code>Gravity</code>, systems <code>PlayerControl</code>, <code>Physics</code>, <code>Render</code>.</li>
<li><b>Build:</b> <code>./ci/build.sh</code> (CMake + Ninja). Binaries are generated <b>at the project root</b>.</li>
</ul>
<p>Project layout (excerpt): </p><div class="fragment"><div class="line">.</div>
<div class="line">‚îú‚îÄ CMakeLists.txt                 # Places binaries at the repo root</div>
<div class="line">‚îú‚îÄ ci/                            # Local CI scripts</div>
<div class="line">‚îÇ  ‚îú‚îÄ build.sh                    # CMake + Ninja (Release)</div>
<div class="line">‚îÇ  ‚îú‚îÄ test.sh                     # ctest (if present)</div>
<div class="line">‚îÇ  ‚îî‚îÄ check_clang_format.sh</div>
<div class="line">‚îú‚îÄ cmake/CPM.cmake                # Dependencies via CPM</div>
<div class="line">‚îú‚îÄ libengine/                     # Engine library (ECS)</div>
<div class="line">‚îú‚îÄ include_common/                # Shared ECS headers</div>
<div class="line">‚îú‚îÄ Server/                        # UDP server code (Boost.Asio)</div>
<div class="line">‚îú‚îÄ Client/                        # SFML client (UI + game)</div>
<div class="line">‚îú‚îÄ assets/                        # R-Type fonts &amp; spritesheets</div>
<div class="line">‚îú‚îÄ sound/                         # Music &amp; SFX</div>
<div class="line">‚îî‚îÄ sprite/                        # PNGs for menu/logo/error</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md4"></a>
üöÄ Quick Start</h1>
<h2><a class="anchor" id="autotoc_md5"></a>
Prerequisites (Linux ‚Äî e.g., Fedora 41)</h2>
<div class="fragment"><div class="line">sudo dnf install cmake ninja-build gcc-c++ SFML-devel</div>
<div class="line"># Boost is fetched automatically for the server via CPM.cmake</div>
</div><!-- fragment --><p><em>Ubuntu/Debian:</em> </p><div class="fragment"><div class="line">sudo apt-get install cmake ninja-build g++ libsfml-dev</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Prerequisites &amp; Build (Windows ‚Äî Chocolatey)</h2>
<div class="fragment"><div class="line">choco install cmake python ninja mingw</div>
<div class="line">git clone https://github.com/Jeami-s-Orga-Tek/R-TYPE.git</div>
<div class="line">cd R-TYPE</div>
<div class="line">cmake -S . -B build -G &quot;Ninja&quot; -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">cmake --build build --config Release --parallel</div>
<div class="line">cp build\_deps\sfml-src\extlibs\bin\x64\openal32.dll .</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Build</h2>
<p>From the <b>repository root</b>: </p><div class="fragment"><div class="line">./ci/build.sh</div>
<div class="line"># ‚ûú produces ./r-type_server and ./r-type_client at the repo root</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
Run the server</h2>
<div class="fragment"><div class="line">./r-type_server</div>
</div><!-- fragment --><ul>
<li><b>Authoritative</b> server (game logic runs server-side).</li>
<li>Async I/O loop, session handling, ping/heartbeat.</li>
<li>Files: <code><a class="el" href="Server_2src_2main_8cpp.html">Server/src/main.cpp</a></code>, <code>Server/src/net/UdpServer.*</code>, <code>Server/src/util/Log.hpp</code>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Run the client</h2>
<div class="fragment"><div class="line">./r-type_client</div>
</div><!-- fragment --><ul>
<li>The client connects when clicking <b>Play</b> (see <code><a class="el" href="GameTypes_8cpp.html">Client/src/GameTypes.cpp</a></code>).</li>
<li><b>Important:</b> run <b>from the project root</b> so it can access <code>assets/</code>, <code>sound/</code>, <code>sprite/</code>.</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md11"></a>
üéÆ Controls &amp; Audio</h1>
<ul>
<li><b>Movement:</b> <b>‚Üê ‚Üí ‚Üë ‚Üì (configurable in Settings)</b></li>
<li><b>Shoot:</b> <b>Space</b></li>
<li><b>Remap:</b> <b>Settings ‚Üí Controls</b> menu (class <code><a class="el" href="classControlsConfig.html">ControlsConfig</a></code>).</li>
<li><b>Audio:</b> music &amp; SFX in <code>sound/</code> (e.g., <code>Menu_sound.mp3</code>, <code>Start_sound.mp3</code>).</li>
<li><b>Fonts:</b> <code>assets/r-type.otf</code>, <code>assets/retro.ttf</code>.</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md13"></a>
üß± Architecture</h1>
<h2><a class="anchor" id="autotoc_md14"></a>
ECS (Entity‚ÄëComponent‚ÄëSystem)</h2>
<ul>
<li><b>Entities:</b> numeric identifiers.</li>
<li><b>Components:</b> pure data (e.g., <code>Transform</code>, <code>Sprite</code>, <code>RigidBody</code>, <code>Gravity</code>).</li>
<li><b>Systems:</b> independent logic (e.g., <code>PlayerControl</code>, <code>Physics</code>, <code>Render</code>).</li>
<li><b>Mediator/Event bus:</b> decoupled communication between systems.</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Networking (binary UDP)</h2>
<ul>
<li><b>Transport:</b> UDP (binary packets).</li>
<li><b>Handshake:</b> <code>Hello</code> ‚Üí <code>Welcome {playerId, roomId, baselineTick}</code>.</li>
<li><b>Sessions &amp; timeouts:</b> via heartbeat/ping.</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
Build system</h2>
<ul>
<li><b>C++17</b>, <b>CMake ‚â• 3.10</b>, <b>Ninja</b>.</li>
<li><b>Client:</b> <b>SFML 2.6.x</b> (<code>sfml-graphics</code>, <code>sfml-window</code>, <code>sfml-system</code>).</li>
<li><b>Server:</b> <b>Boost 1.86</b> (Asio) via <b>CPM.cmake</b> (no system-wide install required).</li>
<li><b>Output:</b> <code>CMAKE_RUNTIME_OUTPUT_DIRECTORY = &lt;repo root&gt;</code> ‚Üí binaries at the top level.</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md18"></a>
üß™ Quality &amp; CI</h1>
<ul>
<li><b>GitHub Actions CI:</b> Linux/Windows builds, artifacts, formatting checks (see <code>.github/workflows/ci.yml</code>, <code>CI.md</code>).</li>
<li>Scripts: <code>./ci/build.sh</code>, <code>./ci/test.sh</code>, <code>./ci/check_clang_format.sh</code>.</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md20"></a>
üìê Gameplay (prototype)</h1>
<ul>
<li><b>Starfield</b> (scrolling space background, time-step).</li>
<li><b>Up to 4 players</b> (visual distinction).</li>
<li><b>‚ÄúBydos‚Äù enemies</b> and <b>missiles</b>.</li>
<li>Potential extensions: patterns, boss, evolving weapons, ‚ÄúForce,‚Äù etc.</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md22"></a>
‚öôÔ∏è Runtime &amp; Networking Tips</h1>
<ul>
<li>Run <b>from the repo root</b> so the client loads resources.</li>
<li>Open the chosen <b>UDP port</b> on your firewall/router.</li>
<li>Remote connection: change IP/port in the UI (or adjust in <code><a class="el" href="GameTypes_8cpp.html">GameTypes.cpp</a></code> if needed).</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md24"></a>
üß≠ Project Architecture (Mermaid)</h1>
<div class="fragment"><div class="line">classDiagram</div>
<div class="line">direction LR</div>
<div class="line">    class EntityTypedef {</div>
<div class="line">        +using Entity = uint32_t</div>
<div class="line">        +using ComponentType = uint16_t</div>
<div class="line">        +using Signature = bitset~64~</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class EntityManager {</div>
<div class="line">        --</div>
<div class="line">        -available_entities : queue</div>
<div class="line">        -signatures : array</div>
<div class="line">        -entity_count : Entity</div>
<div class="line">        +createEntity() Entity</div>
<div class="line">        +destroyEntity(e: Entity) void</div>
<div class="line">        +setSignature(e: Entity, s: Signature) void</div>
<div class="line">        +getSignature(e: Entity) Signature</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class ComponentArrayT {</div>
<div class="line">        +insertEntity(e: Entity, c: T) void</div>
<div class="line">        +removeEntity(e: Entity) void</div>
<div class="line">        +getComponent(e: Entity) T</div>
<div class="line">        +entityDestroyed(e: Entity) void</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class ComponentManager {</div>
<div class="line">        --</div>
<div class="line">        -component_types : unordered_map</div>
<div class="line">        -component_arrays : unordered_map~</div>
<div class="line">        +registerComponentT() void</div>
<div class="line">        +addComponentT(e: Entity, c: T) void</div>
<div class="line">        +removeComponentT(e: Entity) void</div>
<div class="line">        +getComponentT(e: Entity) T</div>
<div class="line">        +getComponentTypeT() ComponentType</div>
<div class="line">        +entityDestroyed(e: Entity) void</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class SystemManager {</div>
<div class="line">        +registerSystemT() System</div>
<div class="line">        +setSignatureT(s: Signature) void</div>
<div class="line">        +entityDestroyed(e: Entity) void</div>
<div class="line">        +entitySignatureChanged(e: Entity, s: Signature) void</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class Event {</div>
<div class="line">        +setParamT(id: uint32_t, value: T) void</div>
<div class="line">        +getParamT(id: uint32_t) T</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class EventManager {</div>
<div class="line">        +addListener(id: uint32_t, fn) void</div>
<div class="line">        +sendEvent(e: Event) void</div>
<div class="line">        +sendEventById(id: uint32_t) void</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class Mediator {</div>
<div class="line">        --</div>
<div class="line">        -entityManager : EntityManager</div>
<div class="line">        -componentManager : ComponentManager</div>
<div class="line">        -systemManager : SystemManager</div>
<div class="line">        -eventManager : EventManager</div>
<div class="line">        +init() void</div>
<div class="line">        +createEntity() Entity</div>
<div class="line">        +destroyEntity(e: Entity) void</div>
<div class="line">        +addComponentT(e: Entity, c: T) void</div>
<div class="line">        +getComponentT(e: Entity) T</div>
<div class="line">        +getComponentTypeT() ComponentType</div>
<div class="line">        +setSignature(e: Entity, s: Signature) void</div>
<div class="line">        +registerSystemT() System</div>
<div class="line">        +setSystemSignatureT(s: Signature) void</div>
<div class="line">        +addEventListener(id: uint32_t, fn) void</div>
<div class="line">        +sendEvent(e: Event) void</div>
<div class="line">        +sendEventById(id: uint32_t) void</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class Protocol {</div>
<div class="line">        +append_u8(out, v) void</div>
<div class="line">        +append_u16be(out, v) void</div>
<div class="line">        +append_u32be(out, v) void</div>
<div class="line">        +append_i16be(out, v) void</div>
<div class="line">        +read_u8(data, off, size) uint8</div>
<div class="line">        +read_u16be(data, off, size) uint16</div>
<div class="line">        +read_u32be(data, off, size) uint32</div>
<div class="line">        +read_i16be(data, off, size) int16</div>
<div class="line">        +writeHelloBody(out, HelloBody) void</div>
<div class="line">        +readHelloBody(data, size, off) HelloBody</div>
<div class="line">        +writeWelcomeBody(out, WelcomeBody) void</div>
<div class="line">        +readWelcomeBody(data, size, off) WelcomeBody</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    class UdpServer {</div>
<div class="line">        --</div>
<div class="line">        -socket</div>
<div class="line">        -remote</div>
<div class="line">        -rxBuf[1500]</div>
<div class="line">        -timer</div>
<div class="line">        -nextPlayerId : uint32</div>
<div class="line">        -sessions : unordered_map</div>
<div class="line">        -protocol : Protocol</div>
<div class="line">        +start_receive() void</div>
<div class="line">        +handle_receive() void</div>
<div class="line">        +send_pong(to) void</div>
<div class="line">        +send_welcome(to, playerId) void</div>
<div class="line">        +send_ping(to) void</div>
<div class="line">        +start_heartbeat() void</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    &lt;&lt;type&gt;&gt; EntityTypedef</div>
<div class="line">    &lt;&lt;template&gt;&gt; ComponentArrayT</div>
<div class="line"> </div>
<div class="line">    Mediator *-- EntityManager</div>
<div class="line">    Mediator *-- ComponentManager</div>
<div class="line">    Mediator *-- SystemManager</div>
<div class="line">    Mediator *-- EventManager</div>
<div class="line">    ComponentManager o-- ComponentArrayT</div>
<div class="line">    UdpServer *-- Protocol</div>
</div><!-- fragment --> <hr  />
<h1><a class="anchor" id="autotoc_md26"></a>
üîí Accessibility &amp; Docs</h1>
<ul>
<li><b>Accessibility:</b> color options, full remapping, readability.</li>
<li><b>Documentation:</b> this <b>README</b>, plus a Mermaid architecture diagram.</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md28"></a>
üß© Troubleshooting (FAQ)</h1>
<ul>
<li><b>SFML not found:</b> install <code>SFML-devel</code> (Fedora) / <code>libsfml-dev</code> (Debian/Ubuntu).</li>
<li><b>Fonts/assets not found:</b> run the client <b>from the repo root</b>.</li>
<li><b>Slow Boost download (CPM):</b> configure a <code>CPM_SOURCE_CACHE</code> for CI/local envs.</li>
<li><b>‚ÄúConnection refused‚Äù:</b> check the server is listening (correct port, UDP allowed).</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md30"></a>
ü§ù Credits &amp; License</h1>
<ul>
<li><b>Authors:</b> Tiziano BLANC, Edouard DUPUCH, Olivier DUBO, and Valentin ROUSSEAU.</li>
<li><b>Sprites &amp; inspirations:</b> R‚ÄëType universe. </li>
</ul>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
<script type="text/javascript">
(function() {
  var MERMAID_CDN = "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js";

  function ensureMermaid(onReady) {
    if (window.mermaid) {
      onReady();
      return;
    }
    var script = document.createElement("script");
    script.src = MERMAID_CDN;
    script.async = true;
    script.onload = onReady;
    document.head.appendChild(script);
  }

  function extractText(fragment) {
    var lines = fragment.querySelectorAll("div.line");
    var buf = [];
    for (var i = 0; i < lines.length; ++i) {
      buf.push(lines[i].textContent.replace(/\u00a0/g, " "));
    }
    return buf.join("\n");
  }

  function isMermaid(fragment) {
    var first = fragment.querySelector("div.line");
    if (!first) {
      return false;
    }
    var header = first.textContent.trim();
    return header === "classDiagram" || header === "sequenceDiagram" || header.indexOf("flowchart") === 0 || header.indexOf("graph") === 0;
  }

  function render() {
    var fragments = document.querySelectorAll("div.fragment");
    var nodes = [];
    for (var i = 0; i < fragments.length; ++i) {
      var fragment = fragments[i];
      if (!isMermaid(fragment)) {
        continue;
      }
      var container = document.createElement("div");
      container.className = "mermaid";
      container.textContent = extractText(fragment);
      fragment.parentNode.replaceChild(container, fragment);
      nodes.push(container);
    }
    if (!nodes.length) {
      return;
    }
    window.mermaid.initialize({ startOnLoad: false, theme: "dark" });
    window.mermaid.run({ nodes: nodes });
  }

  function start() {
    ensureMermaid(render);
  }

  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", start);
  } else {
    start();
  }
})();
</script>
</body>
</html>
